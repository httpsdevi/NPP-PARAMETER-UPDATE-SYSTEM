<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPP Parameter Update System - Report</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .report-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .report-header {
            background: linear-gradient(135deg, #3c00a0 0%, #6366f1 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(60,0,160,0.3);
        }

        .report-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .report-subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .report-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .report-date {
            font-size: 14px;
            opacity: 0.8;
        }

        .print-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .print-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        /* Executive Summary */
        .executive-summary {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }

        .summary-title {
            font-size: 24px;
            font-weight: 600;
            color: #3c00a0;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .summary-metric {
            text-align: center;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #3c00a0;
        }

        .metric-value {
            font-size: 28px;
            font-weight: 700;
            color: #3c00a0;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 14px;
            color: #6b7280;
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }

        .chart-header {
            font-size: 18px;
            font-weight: 600;
            color: #3c00a0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-canvas {
            height: 300px;
        }

        /* Data Tables */
        .data-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #3c00a0;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }

        tr:nth-child(even) {
            background: #f8fafc;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
        }

        .status-normal { background: #dcfce7; color: #166534; }
        .status-warning { background: #fef3c7; color: #92400e; }
        .status-critical { background: #fee2e2; color: #991b1b; }

        /* Key Findings */
        .findings-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }

        .finding-item {
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #3c00a0;
            background: #f8fafc;
            border-radius: 0 8px 8px 0;
        }

        .finding-title {
            font-weight: 600;
            color: #3c00a0;
            margin-bottom: 5px;
        }

        .finding-text {
            color: #4b5563;
            font-size: 14px;
        }

        /* Recommendations */
        .recommendations {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 1px solid #bbf7d0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .recommendation-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .recommendation-icon {
            color: #059669;
            font-size: 18px;
            margin-top: 2px;
        }

        .recommendation-text {
            flex: 1;
            color: #374151;
        }

        /* Footer */
        .report-footer {
            text-align: center;
            padding: 20px;
            color: #6b7280;
            font-size: 14px;
            border-top: 1px solid #e5e7eb;
            margin-top: 40px;
        }

        @media print {
            .print-btn {
                display: none;
            }
            
            body {
                background: white;
            }
            
            .chart-canvas {
                height: 250px;
            }
        }

        @media (max-width: 768px) {
            .report-container {
                padding: 10px;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .report-meta {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- Report Header -->
        <div class="report-header">
            <div class="report-title">NPP Parameter Update System</div>
            <div class="report-subtitle">Operational Performance & Analytics Report</div>
            <div class="report-meta">
                <div class="report-date">
                    Report Generated: <span id="reportDate"></span><br>
                    Period: <span id="reportPeriod">Last 24 Hours</span>
                </div>
                <button class="print-btn" onclick="window.print()">
                    üìÑ Print Report
                </button>
            </div>
        </div>

        <!-- Executive Summary -->
        <div class="executive-summary">
            <div class="summary-title">üìä Executive Summary</div>
            <div class="summary-grid">
                <div class="summary-metric">
                    <div class="metric-value" id="totalParams">1,247</div>
                    <div class="metric-label">Total Parameters</div>
                </div>
                <div class="summary-metric">
                    <div class="metric-value" id="systemUptime">99.94%</div>
                    <div class="metric-label">System Uptime</div>
                </div>
                <div class="summary-metric">
                    <div class="metric-value" id="dataQuality">97.2%</div>
                    <div class="metric-label">Data Quality</div>
                </div>
                <div class="summary-metric">
                    <div class="metric-value" id="criticalAlerts">3</div>
                    <div class="metric-label">Critical Alerts</div>
                </div>
                <div class="summary-metric">
                    <div class="metric-value" id="updateSuccess">98.7%</div>
                    <div class="metric-label">Update Success</div>
                </div>
            </div>
            
            <p style="margin-top: 20px; color: #4b5563;">
                The NPP Parameter Update System demonstrates strong operational performance with 99.94% uptime and 97.2% data quality. 
                Current monitoring covers 1,247 parameters across all plant units with a 98.7% successful update rate. 
                Three critical alerts require immediate attention, primarily related to cooling system parameters in Unit 2.
            </p>
        </div>

        <!-- Key Performance Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <div class="chart-header">
                    üìà Parameter Status Overview
                </div>
                <canvas id="statusChart" class="chart-canvas"></canvas>
            </div>
            
            <div class="chart-card">
                <div class="chart-header">
                    üìä Update Frequency Trends
                </div>
                <canvas id="updateChart" class="chart-canvas"></canvas>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    üéØ System Performance Metrics
                </div>
                <canvas id="performanceChart" class="chart-canvas"></canvas>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    üìâ Parameter Deviation Analysis
                </div>
                <canvas id="deviationChart" class="chart-canvas"></canvas>
            </div>
        </div>

        <!-- Critical Parameters Table -->
        <div class="data-section">
            <div class="section-title">üî¥ Critical Parameters Requiring Attention</div>
            <table>
                <thead>
                    <tr>
                        <th>Parameter ID</th>
                        <th>Description</th>
                        <th>Current Value</th>
                        <th>Threshold</th>
                        <th>Deviation</th>
                        <th>Unit</th>
                        <th>Status</th>
                        <th>Last Updated</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RC-001</td>
                        <td>Reactor Core Temperature</td>
                        <td>287.5</td>
                        <td>285.0</td>
                        <td>+2.5</td>
                        <td>¬∞C</td>
                        <td><span class="status-badge status-warning">Warning</span></td>
                        <td>2025-08-31 14:23:45</td>
                    </tr>
                    <tr>
                        <td>CS-045</td>
                        <td>Cooling System Pressure</td>
                        <td>152.3</td>
                        <td>150.0</td>
                        <td>+2.3</td>
                        <td>PSI</td>
                        <td><span class="status-badge status-critical">Critical</span></td>
                        <td>2025-08-31 14:22:15</td>
                    </tr>
                    <tr>
                        <td>TG-023</td>
                        <td>Turbine Generator RPM</td>
                        <td>2,995</td>
                        <td>3,000</td>
                        <td>-5</td>
                        <td>RPM</td>
                        <td><span class="status-badge status-warning">Warning</span></td>
                        <td>2025-08-31 14:25:12</td>
                    </tr>
                    <tr>
                        <td>SF-012</td>
                        <td>Safety System Response</td>
                        <td>98.2</td>
                        <td>99.0</td>
                        <td>-0.8</td>
                        <td>%</td>
                        <td><span class="status-badge status-critical">Critical</span></td>
                        <td>2025-08-31 14:20:33</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- System Performance Summary -->
        <div class="data-section">
            <div class="section-title">‚ö° System Performance Summary</div>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Current Value</th>
                        <th>Target</th>
                        <th>Status</th>
                        <th>Trend (7 days)</th>
                        <th>Last Measurement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>System Uptime</td>
                        <td>99.94%</td>
                        <td>99.90%</td>
                        <td><span class="status-badge status-normal">Normal</span></td>
                        <td>‚Üó +0.04%</td>
                        <td>2025-08-31 14:30:00</td>
                    </tr>
                    <tr>
                        <td>Data Quality Score</td>
                        <td>97.2%</td>
                        <td>98.0%</td>
                        <td><span class="status-badge status-warning">Warning</span></td>
                        <td>‚Üó +1.8%</td>
                        <td>2025-08-31 14:25:15</td>
                    </tr>
                    <tr>
                        <td>Update Success Rate</td>
                        <td>98.7%</td>
                        <td>99.0%</td>
                        <td><span class="status-badge status-warning">Warning</span></td>
                        <td>‚Üó +2.3%</td>
                        <td>2025-08-31 14:30:00</td>
                    </tr>
                    <tr>
                        <td>Average Response Time</td>
                        <td>12.3ms</td>
                        <td>15.0ms</td>
                        <td><span class="status-badge status-normal">Normal</span></td>
                        <td>‚Üò -1.2ms</td>
                        <td>2025-08-31 14:29:45</td>
                    </tr>
                    <tr>
                        <td>Error Rate</td>
                        <td>0.06%</td>
                        <td>0.10%</td>
                        <td><span class="status-badge status-normal">Normal</span></td>
                        <td>‚Üò -0.02%</td>
                        <td>2025-08-31 14:28:30</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Key Findings -->
        <div class="findings-section">
            <div class="section-title">üîç Key Findings & Analysis</div>
            
            <div class="finding-item">
                <div class="finding-title">1. System Performance Excellence</div>
                <div class="finding-text">
                    The NPP Parameter Update System maintains exceptional uptime at 99.94%, exceeding the target of 99.90%. 
                    Response times average 12.3ms, well below the 15ms threshold, indicating optimal system performance.
                </div>
            </div>

            <div class="finding-item">
                <div class="finding-title">2. Data Quality Improvement Trend</div>
                <div class="finding-text">
                    Data quality has improved by 1.8% over the past week, reaching 97.2%. The primary quality issues stem from 
                    sensor calibration delays in the cooling system, which are scheduled for maintenance.
                </div>
            </div>

            <div class="finding-item">
                <div class="finding-title">3. Parameter Update Efficiency</div>
                <div class="finding-text">
                    98.7% of parameter updates completed successfully, with most failures attributed to network timeouts during 
                    peak update periods (2-4 PM daily). Update frequency peaks correlate with shift changes.
                </div>
            </div>

            <div class="finding-item">
                <div class="finding-title">4. Critical Alert Reduction</div>
                <div class="finding-text">
                    Critical alerts decreased by 40% from last week, down to 3 active alerts. Current alerts focus on 
                    cooling system pressure and safety system response times, both within manageable ranges.
                </div>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="recommendations">
            <div class="section-title">üí° Recommendations</div>
            
            <div class="recommendation-item">
                <div class="recommendation-icon">‚úÖ</div>
                <div class="recommendation-text">
                    <strong>Cooling System Maintenance:</strong> Schedule immediate calibration of cooling system sensors to address current pressure readings and improve data quality scores.
                </div>
            </div>

            <div class="recommendation-item">
                <div class="recommendation-icon">üîß</div>
                <div class="recommendation-text">
                    <strong>Network Optimization:</strong> Implement load balancing during peak update periods (2-4 PM) to reduce timeout-related update failures.
                </div>
            </div>

            <div class="recommendation-item">
                <div class="recommendation-icon">üìà</div>
                <div class="recommendation-text">
                    <strong>Predictive Maintenance:</strong> Deploy machine learning algorithms to predict parameter deviations 2-4 hours in advance, enabling proactive interventions.
                </div>
            </div>

            <div class="recommendation-item">
                <div class="recommendation-icon">üõ°Ô∏è</div>
                <div class="recommendation-text">
                    <strong>Safety System Enhancement:</strong> Review safety system response protocols to bring performance back above 99% threshold within the next maintenance window.
                </div>
            </div>
        </div>

        <!-- Parameter Distribution by Unit -->
        <div class="data-section">
            <div class="section-title">üè≠ Parameter Distribution by Plant Unit</div>
            <table>
                <thead>
                    <tr>
                        <th>Plant Unit</th>
                        <th>Total Parameters</th>
                        <th>Normal</th>
                        <th>Warning</th>
                        <th>Critical</th>
                        <th>Offline</th>
                        <th>Update Success Rate</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Unit 1</strong></td>
                        <td>416</td>
                        <td>398</td>
                        <td>15</td>
                        <td>2</td>
                        <td>1</td>
                        <td>99.1%</td>
                    </tr>
                    <tr>
                        <td><strong>Unit 2</strong></td>
                        <td>415</td>
                        <td>395</td>
                        <td>18</td>
                        <td>3</td>
                        <td>2</td>
                        <td>98.2%</td>
                    </tr>
                    <tr>
                        <td><strong>Unit 3</strong></td>
                        <td>416</td>
                        <td>396</td>
                        <td>12</td>
                        <td>3</td>
                        <td>2</td>
                        <td>98.8%</td>
                    </tr>
                    <tr style="background: #f3f4f6; font-weight: 600;">
                        <td><strong>Total</strong></td>
                        <td>1,247</td>
                        <td>1,189</td>
                        <td>45</td>
                        <td>8</td>
                        <td>5</td>
                        <td>98.7%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Report Footer -->
        <div class="report-footer">
            <p><strong>NPCIL Parameter Update System</strong> | Generated by NPP Analytics Engine</p>
            <p>For technical support, contact: support@npcil.gov.in | Emergency: +91-XXXX-XXXXXX</p>
            <p>This report contains confidential operational data. Distribution restricted to authorized personnel only.</p>
        </div>
    </div>

    <script>
        // Set report date
        document.getElementById('reportDate').textContent = new Date().toLocaleString();
        document.getElementById('reportPeriod').textContent = 'Last 24 Hours (Aug 30, 2025 14:30 - Aug 31, 2025 14:30)';

        // Generate sample data
        function generateTimeSeriesData(points, baseValue, variance) {
            const data = [];
            const labels = [];
            const now = new Date();
            
            for (let i = points - 1; i >= 0; i--) {
                const time = new Date(now.getTime() - i * 3600000);
                labels.push(time.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'}));
                data.push(baseValue + (Math.random() - 0.5) * variance);
            }
            
            return { labels, data };
        }

        // Create Status Distribution Chart
        function createStatusChart() {
            const ctx = document.getElementById('statusChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Normal (95.4%)', 'Warning (3.6%)', 'Critical (0.6%)', 'Offline (0.4%)'],
                    datasets: [{
                        data: [1189, 45, 8, 5],
                        backgroundColor: ['#10b981', '#f59e0b', '#ef4444', '#6b7280'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        // Create Update Frequency Chart
        function createUpdateChart() {
            const ctx = document.getElementById('updateChart').getContext('2d');
            const timeData = generateTimeSeriesData(24, 52, 15);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: timeData.labels,
                    datasets: [{
                        label: 'Updates per Hour',
                        data: timeData.data,
                        borderColor: '#3c00a0',
                        backgroundColor: 'rgba(60, 0, 160, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#3c00a0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }, {
                        label: 'Target Rate',
                        data: Array(24).fill(50),
                        borderColor: '#10b981',
                        borderDash: [5, 5],
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Updates/Hour'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Time (24h)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true
                        }
                    }
                }
            });
        }

        // Create Performance Radar Chart
        function createPerformanceChart() {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Uptime', 'Response Time', 'Data Quality', 'Update Success', 'Error Rate'],
                    datasets: [{
                        label: 'Current Performance',
                        data: [99.94, 85, 97.2, 98.7, 94],
                        borderColor: '#3c00a0',
                        backgroundColor: 'rgba(60, 0, 160, 0.2)',
                        pointBackgroundColor: '#3c00a0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }, {
                        label: 'Target Performance',
                        data: [99.9, 90, 98, 99, 95],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        pointBackgroundColor: '#10b981',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            },
                            angleLines: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Create Deviation Analysis Chart
        function createDeviationChart() {
            const ctx = document.getElementById('deviationChart').getContext('2d');
            
            // Generate deviation data
            const deviationData = [];
            const labels = [];
            for (let i = 0; i < 24; i++) {
                const hour = i.toString().padStart(2, '0') + ':00';
                labels.push(hour);
                deviationData.push({
                    minor: Math.floor(Math.random() * 20) + 5,
                    major: Math.floor(Math.random() * 8) + 2,
                    critical: Math.floor(Math.random() * 3)
                });
            }
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Minor Deviations',
                        data: deviationData.map(d => d.minor),
                        backgroundColor: '#fbbf24',
                        stack: 'deviations'
                    }, {
                        label: 'Major Deviations',
                        data: deviationData.map(d => d.major),
                        backgroundColor: '#f59e0b',
                        stack: 'deviations'
                    }, {
                        label: 'Critical Deviations',
                        data: deviationData.map(d => d.critical),
                        backgroundColor: '#ef4444',
                        stack: 'deviations'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Time (Hours)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            stacked: true,
                            title: {
                                display: true,
                                text: 'Number of Deviations'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top'
                        }
                    }
                }
            });
        }

        // Update KPIs with real-time simulation
        function updateKPIs() {
            const kpis = {
