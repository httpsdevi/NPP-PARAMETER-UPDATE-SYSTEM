<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPP Parameter Update System - Power BI Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            color: #333;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .dashboard-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .last-updated {
            font-size: 14px;
            opacity: 0.9;
        }

        .refresh-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .refresh-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .dashboard-nav {
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 0 20px;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 30px;
        }

        .nav-tab {
            padding: 15px 0;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-tab.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
        }

        .nav-tab:hover {
            color: #3b82f6;
        }

        .dashboard-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-left: 4px solid #3b82f6;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        .kpi-value {
            font-size: 32px;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 10px;
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
        }

        .trend-up {
            color: #059669;
        }

        .trend-down {
            color: #dc2626;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1e3a8a;
        }

        .chart-canvas {
            max-height: 300px;
        }

        .filters-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        .alert-panel {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 1px solid #fca5a5;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .alert-title {
            font-size: 16px;
            font-weight: 600;
            color: #dc2626;
            margin-bottom: 10px;
        }

        .alert-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            border-left: 4px solid #dc2626;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .status-indicator {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .status-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .status-normal { background: #10b981; }
        .status-warning { background: #f59e0b; }
        .status-critical { background: #ef4444; }
        .status-offline { background: #6b7280; }

        .data-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .table-header {
            background: #f8fafc;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e3a8a;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #f3f4f6;
        }

        th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
        }

        tr:hover {
            background: #f8fafc;
        }

        .parameter-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-ok { background: #dcfce7; color: #166534; }
        .status-warn { background: #fef3c7; color: #92400e; }
        .status-error { background: #fee2e2; color: #991b1b; }

        @media (max-width: 768px) {
            .dashboard-content {
                padding: 10px;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-header">
        <div class="header-content">
            <div>
                <div class="dashboard-title">NPP Parameter Update System</div>
                <div class="last-updated">Last Updated: <span id="lastUpdated"></span></div>
            </div>
            <button class="refresh-btn" onclick="refreshDashboard()">
                ðŸ”„ Refresh Data
            </button>
        </div>
    </div>

    <nav class="dashboard-nav">
        <div class="nav-content">
            <div class="nav-tab active" onclick="showTab('overview')">Executive Overview</div>
            <div class="nav-tab" onclick="showTab('operational')">Operational Analytics</div>
            <div class="nav-tab" onclick="showTab('business')">Business Intelligence</div>
            <div class="nav-tab" onclick="showTab('technical')">Technical Performance</div>
        </div>
    </nav>

    <div class="dashboard-content">
        <!-- Filters -->
        <div class="filters-container">
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Time Range</label>
                    <select class="filter-select" id="timeRange" onchange="updateDashboard()">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Parameter Type</label>
                    <select class="filter-select" id="paramType" onchange="updateDashboard()">
                        <option value="all">All Parameters</option>
                        <option value="reactor">Reactor</option>
                        <option value="turbine">Turbine</option>
                        <option value="cooling">Cooling</option>
                        <option value="safety">Safety</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Plant Unit</label>
                    <select class="filter-select" id="plantUnit" onchange="updateDashboard()">
                        <option value="all">All Units</option>
                        <option value="unit1">Unit 1</option>
                        <option value="unit2">Unit 2</option>
                        <option value="unit3">Unit 3</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Criticality</label>
                    <select class="filter-select" id="criticality" onchange="updateDashboard()">
                        <option value="all">All Levels</option>
                        <option value="critical">Critical</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Executive Overview Tab -->
        <div id="overview" class="tab-content active">
            <!-- Critical Alerts -->
            <div class="alert-panel" id="alertPanel">
                <div class="alert-title">ðŸš¨ Critical Alerts</div>
                <div id="alertsList"></div>
            </div>

            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value" id="totalParams">1,247</div>
                    <div class="kpi-label">Total Parameters Monitored</div>
                    <div class="kpi-trend trend-up">â†— +12 new parameters this month</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="updatedToday">98.7%</div>
                    <div class="kpi-label">Parameters Updated Today</div>
                    <div class="kpi-trend trend-up">â†— +2.3% vs yesterday</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="systemUptime">99.94%</div>
                    <div class="kpi-label">System Uptime</div>
                    <div class="kpi-trend trend-up">â†— Above 99.9% target</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="criticalAlerts">3</div>
                    <div class="kpi-label">Critical Alerts</div>
                    <div class="kpi-trend trend-down">â†˜ -2 from yesterday</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="dataQuality">97.2%</div>
                    <div class="kpi-label">Data Quality Score</div>
                    <div class="kpi-trend trend-up">â†— +0.8% this week</div>
                </div>
            </div>

            <!-- Status Overview -->
            <div class="status-grid">
                <div class="status-indicator">
                    <div class="status-circle status-normal">1,189</div>
                    <div>Normal</div>
                </div>
                <div class="status-indicator">
                    <div class="status-circle status-warning">45</div>
                    <div>Warning</div>
                </div>
                <div class="status-indicator">
                    <div class="status-circle status-critical">8</div>
                    <div>Critical</div>
                </div>
                <div class="status-indicator">
                    <div class="status-circle status-offline">5</div>
                    <div>Offline</div>
                </div>
            </div>

            <!-- Charts -->
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">Parameter Status Distribution</div>
                    <canvas id="statusChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Update Frequency (24h)</div>
                    <canvas id="updateChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">System Performance</div>
                    <canvas id="performanceChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Parameter Trends</div>
                    <canvas id="trendChart" class="chart-canvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Operational Analytics Tab -->
        <div id="operational" class="tab-content">
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">Data Completeness by Parameter Type</div>
                    <canvas id="completenessChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Parameter Deviation Analysis</div>
                    <canvas id="deviationChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Update Success Rate</div>
                    <canvas id="successChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Anomaly Detection</div>
                    <canvas id="anomalyChart" class="chart-canvas"></canvas>
                </div>
            </div>

            <!-- Recent Parameter Updates Table -->
            <div class="data-table">
                <div class="table-header">
                    <div class="table-title">Recent Parameter Updates</div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter ID</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Current Value</th>
                            <th>Last Updated</th>
                            <th>Status</th>
                            <th>Unit</th>
                        </tr>
                    </thead>
                    <tbody id="parameterTable">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Business Intelligence Tab -->
        <div id="business" class="tab-content">
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">Operational Efficiency Trends</div>
                    <canvas id="efficiencyChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Cost Analysis</div>
                    <canvas id="costChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">SLA Performance</div>
                    <canvas id="slaChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Resource Utilization</div>
                    <canvas id="resourceChart" class="chart-canvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Technical Performance Tab -->
        <div id="technical" class="tab-content">
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">Database Performance</div>
                    <canvas id="dbChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Error Analysis</div>
                    <canvas id="errorChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Network Latency</div>
                    <canvas id="latencyChart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">System Load</div>
                    <canvas id="loadChart" class="chart-canvas"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data generation
        function generateTimeSeriesData(points, baseValue, variance) {
            const data = [];
            const labels = [];
            const now = new Date();
            
            for (let i = points - 1; i >= 0; i--) {
                const time = new Date(now.getTime() - i * 3600000); // hourly data
                labels.push(time.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'}));
                data.push(baseValue + (Math.random() - 0.5) * variance);
            }
            
            return { labels, data };
        }

        function generateParameterData() {
            const paramTypes = ['Reactor', 'Turbine', 'Cooling', 'Safety', 'Environmental'];
            const statuses = ['Normal', 'Warning', 'Critical'];
            const data = [];
            
            for (let i = 1; i <= 50; i++) {
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                data.push({
                    id: `P${String(i).padStart(4, '0')}`,
                    name: `Parameter ${i}`,
                    type: paramTypes[Math.floor(Math.random() * paramTypes.length)],
                    value: (Math.random() * 1000).toFixed(2),
                    lastUpdated: new Date(Date.now() - Math.random() * 3600000).toLocaleString(),
                    status: status,
                    unit: ['Â°C', 'PSI', 'MW', 'L/min', '%'][Math.floor(Math.random() * 5)]
                });
            }
            
            return data;
        }

        // Chart creation functions
        function createStatusChart() {
            const ctx = document.getElementById('statusChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Normal', 'Warning', 'Critical', 'Offline'],
                    datasets: [{
                        data: [1189, 45, 8, 5],
                        backgroundColor: ['#10b981', '#f59e0b', '#ef4444', '#6b7280'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        function createUpdateChart() {
            const ctx = document.getElementById('updateChart').getContext('2d');
            const timeData = generateTimeSeriesData(24, 50, 20);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: timeData.labels,
                    datasets: [{
                        label: 'Updates/Hour',
                        data: timeData.data,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function createPerformanceChart() {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Response Time', 'Throughput', 'Availability', 'Accuracy', 'Reliability'],
                    datasets: [{
                        label: 'Current Performance',
                        data: [85, 92, 99, 97, 94],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        pointBackgroundColor: '#3b82f6'
                    }, {
                        label: 'Target',
                        data: [90, 90, 99.5, 98, 95],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        pointBackgroundColor: '#10b981'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function createTrendChart() {
            const ctx = document.getElementById('trendChart').getContext('2d');
            const timeData = generateTimeSeriesData(24, 750, 50);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: timeData.labels,
                    datasets: [{
                        label: 'Reactor Temperature',
                        data: timeData.data,
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Pressure',
                        data: generateTimeSeriesData(24, 150, 10).data,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function createOperationalCharts() {
            // Data Completeness Chart
            const completenessCtx = document.getElementById('completenessChart').getContext('2d');
            new Chart(completenessCtx, {
                type: 'bar',
                data: {
                    labels: ['Reactor', 'Turbine', 'Cooling', 'Safety', 'Environmental'],
                    datasets: [{
                        label: 'Completeness %',
                        data: [98.5, 97.2, 99.1, 96.8, 94.3],
                        backgroundColor: ['#10b981', '#10b981', '#10b981', '#f59e0b', '#ef4444']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });

            // Deviation Analysis
            const deviationCtx = document.getElementById('deviationChart').getContext('2d');
            new Chart(deviationCtx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Parameter Deviations',
                        data: Array.from({length: 50}, () => ({
                            x: Math.random() * 24,
                            y: Math.random() * 100,
                            r: Math.random() * 10 + 5
                        })),
                        backgroundColor: 'rgba(239, 68, 68, 0.6)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Time (Hours)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Deviation %'
                            }
                        }
                    }
                }
            });

            // Success Rate
            const successCtx = document.getElementById('successChart').getContext('2d');
            new Chart(successCtx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Success Rate %',
                        data: [98.2, 97.8, 99.1, 98.7, 97.9, 98.5, 99.2],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            min: 95,
                            max: 100
                        }
                    }
                }
            });

            // Anomaly Detection
            const anomalyCtx = document.getElementById('anomalyChart').getContext('2d');
            new Chart(anomalyCtx, {
                type: 'bar',
                data: {
                    labels: ['Network', 'Sensor', 'Database', 'Processing', 'Validation'],
                    datasets: [{
                        label: 'Anomalies Detected',
                        data: [12, 8, 3, 15, 6],
                        backgroundColor: '#f59e0b'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        function createBusinessCharts() {
            // Efficiency Trends
            const efficiencyCtx = document.getElementById('efficiencyChart').getContext('2d');
            new Chart(efficiencyCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Operational Efficiency %',
                        data: [87, 89, 91, 88, 93, 95],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Cost Analysis
            const costCtx = document.getElementById('costChart').getContext('2d');
            new Chart(costCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Hardware', 'Software', 'Maintenance', 'Personnel', 'Utilities'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ef4444']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // SLA Performance
            const slaCtx = document.getElementById('slaChart').getContext('2d');
            new Chart(slaCtx, {
                type: 'bar',
                data: {
                    labels: ['Update Frequency', 'Response Time', 'Availability', 'Data Quality'],
                    datasets: [{
                        label: 'Current %',
                        data: [98.7, 95.2, 99.94, 97.2],
                        backgroundColor: '#3b82f6'
                    }, {
                        label: 'Target %',
                        data: [99, 96, 99.5, 98],
                        backgroundColor: '#10b981'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });

            // Resource Utilization
            const resourceCtx = document.getElementById('resourceChart').getContext('2d');
            const resourceData = generateTimeSeriesData(24, 60, 30);
            new Chart(resourceCtx, {
                type: 'line',
                data: {
                    labels: resourceData.labels,
                    datasets: [{
                        label: 'CPU %',
                        data: resourceData.data,
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        fill: false
                    }, {
                        label: 'Memory %',
                        data: generateTimeSeriesData(24, 45, 20).data,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: false
                    }, {
                        label: 'Storage %',
                        data: generateTimeSeriesData(24, 30, 15).data,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function createTechnicalCharts() {
            // Database Performance
            const dbCtx = document.getElementById('dbChart').getContext('2d');
            const dbData = generateTimeSeriesData(24, 15, 10);
            new Chart(dbCtx, {
                type: 'line',
                data: {
                    labels: dbData.labels,
                    datasets: [{
                        label: 'Query Time (ms)',
                        data: dbData.data,
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Error Analysis
            const errorCtx = document.getElementById('errorChart').getContext('2d');
            new Chart(errorCtx, {
                type: 'bar',
                data: {
                    labels: ['Connection', 'Validation', 'Timeout', 'Format', 'Permission'],
                    datasets: [{
                        label: 'Error Count',
                        data: [25, 18, 12, 8, 5],
                        backgroundColor: ['#ef4444', '#f59e0b', '#8b5cf6', '#3b82f6', '#10b981']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y'
                }
            });

            // Network Latency
            const latencyCtx = document.getElementById('latencyChart').getContext('2d');
            const latencyData = generateTimeSeriesData(24, 25, 15);
            new Chart(latencyCtx, {
                type: 'line',
                data: {
                    labels: latencyData.labels,
                    datasets: [{
                        label: 'Latency (ms)',
                        data: latencyData.data,
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // System Load
            const loadCtx = document.getElementById('loadChart').getContext('2d');
            const loadData = generateTimeSeriesData(24, 65, 25);
            new Chart(loadCtx, {
                type: 'area',
                data: {
                    labels: loadData.labels,
                    datasets: [{
                        label: 'System Load %',
                        data: loadData.data,
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.3)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from nav items
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // Initialize charts for the active tab
            setTimeout(() => {
                if (tabName === 'operational') {
                    createOperationalCharts();
                } else if (tabName === 'business') {
                    createBusinessCharts();
                } else if (tabName === 'technical') {
                    createTechnicalCharts();
                }
            }, 100);
        }

        // Update parameter table
        function updateParameterTable() {
            const tableBody = document.getElementById('parameterTable');
            const parameters = generateParameterData().slice(0, 10);
            
            tableBody.innerHTML = parameters.map(param => `
                <tr>
                    <td>${param.id}</td>
                    <td>${param.name}</td>
                    <td>${param.type}</td>
                    <td>${param.value} ${param.unit}</td>
                    <td>${param.lastUpdated}</td>
                    <td><span class="parameter-status status-${param.status.toLowerCase().replace('warning', 'warn').replace('critical', 'error')}">${param.status}</span></td>
                    <td>${param.unit}</td>
                </tr>
            `).join('');
        }

        // Update alerts
        function updateAlerts() {
            const alerts = [
                { id: 'A001', message: 'Reactor coolant temperature exceeding threshold in Unit 2', time: '2 minutes ago', severity: 'critical' },
                { id: 'A002', message: 'Turbine vibration levels elevated in Unit 1', time: '15 minutes ago', severity: 'warning' },
                { id: 'A003', message: 'Safety system parameter update delayed', time: '1 hour ago', severity: 'critical' }
            ];

            const alertsList = document.getElementById('alertsList');
            alertsList.innerHTML = alerts.map(alert => `
                <div class="alert-item">
                    <strong>${alert.id}:</strong> ${alert.message}
                    <div style="font-size: 12px; color: #6b7280; margin-top: 5px;">${alert.time}</div>
                </div>
            `).join('');
        }

        // Refresh dashboard
        function refreshDashboard() {
            document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
            
            // Simulate data refresh with animation
            const refreshBtn = document.querySelector('.refresh-btn');
            refreshBtn.style.transform = 'rotate(360deg)';
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
            
            // Update KPIs with new random values
            updateKPIs();
            updateAlerts();
            updateParameterTable();
        }

        function updateKPIs() {
            // Simulate real-time KPI updates
            const kpis = {
                totalParams: Math.floor(Math.random() * 50) + 1200,
                updatedToday: (Math.random() * 5 + 95).toFixed(1),
                systemUptime: (Math.random() * 0.1 + 99.9).toFixed(2),
                criticalAlerts: Math.floor(Math.random() * 10),
                dataQuality: (Math.random() * 5 + 95).toFixed(1)
            };
            
            document.getElementById('totalParams').textContent = kpis.totalParams.toLocaleString();
            document.getElementById('updatedToday').textContent = kpis.updatedToday + '%';
            document.getElementById('systemUptime').textContent = kpis.systemUptime + '%';
            document.getElementById('criticalAlerts').textContent = kpis.criticalAlerts;
            document.getElementById('dataQuality').textContent = kpis.dataQuality + '%';
        }

        function updateDashboard() {
            // Simulate filter application
            const timeRange = document.getElementById('timeRange').value;
            const paramType = document.getElementById('paramType').value;
            const plantUnit = document.getElementById('plantUnit').value;
            const criticality = document.getElementById('criticality').value;
            
            console.log('Filters applied:', { timeRange, paramType, plantUnit, criticality });
            
            // In a real implementation, this would trigger data refresh based on filters
            updateParameterTable();
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
            
            // Create initial charts
            createStatusChart();
            createUpdateChart();
            createPerformanceChart();
            createTrendChart();
            
            // Update initial data
            updateAlerts();
            updateParameterTable();
            
            // Set up auto-refresh every 30 seconds
            setInterval(() => {
                updateKPIs();
                updateAlerts();
            }, 30000);
        });

        // Responsive chart resize
        window.addEventListener('resize', function() {
            Chart.instances.forEach(chart => {
                chart.resize();
            });
        });
    </script>
</body>
</html>
